tab:unnamed-chunk-45
introduction
purpose-of-this-site
loading-data
lab-i-tidyverse-ols-review
join-the-data-sets.
create-and-add-the-following-variables-to-your-dataframe-density-deaths-per-capita-cases-per-capita-and-vaccinated-percent.
estimate-three-regression-models-with-deaths-per-capita-on-your-selected-day-as-the-dependent-variable.
assess-specific-vaccines
optional-lab-1b
load-the-world-values-survey-data-from-datawv7_small.csv-and-the-countrycode-data-from-datacountry-codes-for-wvs-wave-7.csv.
join-the-country-name-from-the-countrycode-data-to-the-world-values-data.-the-country-code-is-v2-in-countrycode-and-b_country-in-the-world-values-data.-create-two-data-objects-of-the-countries-in-and-not-in-the-world-values-data.-display-the-first-10-countries-for-each-list.
using-pipes-calculate-the-percent-immigrant-in-every-country.-show-the-highest-10-and-lowest-10-countries.-be-sure-to-think-through-what-the-variable-in-the-data-set-means.
were-now-going-to-give-some-examples-of-the-kind-of-data-we-can-calculate.-think-about-how-you-would-do-this-in-excel-but-dont-actually-do-it-and-then-calculate-in-r.-calculate-the-percent-of-immigrants-who-are-men-by-country-and-show-the-highest-and-lowest-10-countries.
group-by-marital-status-and-country-and-show-the-percent-of-people-in-each-category-who-are-men.-show-the-results-for-a-country-of-your-choice-and-briefly-discuss-what-it-means-when-the-percentages-in-each-category-are-not-roughly-50-percent.-recall-that-the-coding-for-the-marital-variable-is-1-married-2-living-together-as-married-3-divorced-4-separated-5-widowed-6-single.
come-up-with-your-own-alternatives-think-about-some-possible-subset-of-people-and-some-information-we-have-about-them-and-see-if-you-can-write-code-to-capture-that-information.
lab-ii-dummy-variables-career-data
use-ols-to-estimate-the-difference-in-happiness-the-happy-variable-for-married-versus-unmarried-people.-then-use-the-t-test-function-to-assess-the-difference-in-happiness-by-gender-see-the-computing-corner-in-chapter-6-of-the-book.-discuss-similarities-and-differences-in-ols-model-and-t-test-function-results
use-ols-with-robust-standard-errors-to-estimate-the-difference-in-happiness-for-married-and-unmarried-people.-then-use-the-t-test-function-with-unequal-variances-to-assess-the-difference-in-happiness-by-marital-status.-discuss-similarities-and-differences-in-ols-model-and-t-test-function-results.
create-an-interaction-between-married-and-age.-estimate-a-model-that-explains-happiness-as-a-function-of-age-and-marital-status-allowing-for-the-age-effect-to-differ-according-to-marital-status.-for-simplicity-we-use-only-married-and-unmarried-for-marital-status.-what-is-the-effect-of-age-for-unmarried-people-for-married-people
estimate-separate-models-explaining-happiness-in-terms-of-age-for-married-and-unmarried-people.-comment-on-similarities-and-differences-compared-to-results-immediately-above-for-i-the-estimated-effect-of-age-and-ii-the-intercept.
marianne-bertrand-wrote-an-article-called-work-on-womens-work-is-never-done-career-family-and-the-well-being-of-college-educated-women-published-in-the-american-economic-review-papers-proceedings-2013-1033-244250.-she-analyzed-the-effect-of-careers-and-family-on-college-educated-women.-she-defines-a-career-variable-that-is-1-if-someones-earnings-are-above-the-twenty-fifth-percentile-in-the-relevant-year-and-age-group.-estimate-a-model-in-which-happiness-is-a-function-of-career-being-married-and-an-interaction-of-career-and-married-careermarried.-to-match-betrands-analysis-limit-the-data-to-only-to-college-educated-dtaeducat4-women-dtasex2.-interpret-the-estimated-average-happiness-for-the-four-types-of-women-implied-by-this-analysis.
the-gss-provides-a-race-variable-dtarace.-the-variable-equals-1-for-white-respondents-2-for-black-respondents-and-3-for-everyone-else.-add-race-to-the-above-model-and-interpret-the-coefficients-related-to-race.-estimate-another-model-with-a-different-reference-category-and-explain-coefficients-across-the-two-models.
estimate-a-model-similar-to-the-above-but-for-a-different-group-of-your-choice-e.g.-limit-by-race-or-gender-or-education-and-feel-free-to-include-different-covariates.
lab-iii-panel-data
load-the-data-from-oxcgrt_latest.csv
data-organization
use-the-lag-function-in-dplyr-to-create-lagged-variables-for-cases-and-deaths.-also-create-difference-e.g.-dcases-that-is-the-change-in-cases-for-each-state-by-date.-check-to-make-sure-it-worked.
merge-the-above-data-frame-to-data-in-usstates.xlsx
write-in-notation-and-estimate-a-pooled-model-of-total-cases-as-a-function-of-state-policy.-discuss-possible-bias.
write-in-notation-and-estimate-a-one-way-fixed-effect-model-where-the-fixed-effect-is-state.-are-you-still-worried-about-bias
write-in-notation-and-estimate-a-two-way-fixed-effect-model-where-the-fixed-effects-are-state-and-date.-does-this-model-address-the-source-of-bias-identified-earlier
test-a-model-with-robust-clustered-standard-errors.-do-the-results-change-at-all
load-in-the-texas-school-board-data-and-take-a-look-at-the-variables.-the-next-few-questions-are-from-exercise-5-in-bailey-2021.-the-basic-thoery-of-the-paper-is-that-teachers-unions-will-have-less-influence-on-school-board-members-when-turnout-is-greater-since-a-wider-swath-of-voters-non-teachers-will-be-voting.-you-can-read-the-abstract-below.
write-in-notation-and-estimate-the-pooled-model-of-the-effect-of-oncycle-on-lnavgsalary.
write-in-notation-and-estimate-a-difference-in-difference-model-of-the-effect-of-oncycle-on-lnavgsalary.-what-is-the-key-coefficient-that-we-are-interested-in
lab-iv-project-runway
base-r-version
libraryggplot-version-1
libraryggplot-version-2
alternative-plot-of-your-choice
code-appendix
setup-code
preparation-code
base-r-plot-code
libraryggplot-first-plot-code
libraryggplot-second-plot-code
alternative-plot-code
lab-v-2sls-instrumental-variables
preparation
estimate-a-basic-ols-model-with-do-others-regard-you-as-religious-as-the-dependent-variable-as-a-function-of-hajj2006.-explain-how-there-might-be-endogeneity.
state-the-requirements-of-a-good-instrument-and-xplain-how-the-success-variable-may-satisfy-these-conditions-for-a-good-instrumental-variable.
use-two-different-packages-to-estimate-a-2sls-model-of-religious-as-a-function-of-hajj2006.-you-can-use-libraryaer-libraryivreg-libraryfixest-or-any-other-package-for-estimating-2sls-models.
show-the-first-stage-from-the-2sls-model-above-with-lm.-explain-the-implications-of-the-results.
add-covariates-for-age-literacy-urban-group-size-and-gender-to-the-2sls-model-religious-as-a-function-of-hajj2006.-what-is-different-which-variables-are-included-in-the-first-stage
run-multiple-2sls-models-with-ossamaincorrect-govtforce-natlinterest-happy-girlsschool-and-jobswomen-variables-as-dependent-variables.-use-the-list-of-covariates-from-earlier.-if-you-want-try-using-a-loop-but-not-necessary.
lab-vi-experiments
preparation-1
why-is-an-experiment-useful-in-this-context
is-there-evidence-of-balance-in-the-treatment-why-is-this-relevant-check-for-balance-of-each-treatment-with-respect-to-age-category-gender-education-income-voting-for-sisi-and-not-voting-for-non-boycott-reasons.-use-two-different-procedures-to-conduct-your-balance-tests.-you-do-not-need-to-use-tost
what-is-the-effect-of-the-treatments-on-whether-respondents-viewed-the-police-tactics-as-justified-run-one-model-with-only-the-treatment-variables-and-another-that-includes-controls-for-age-category-gender-education-income-voting-for-sisi-and-not-voting-for-non-boycott-reasons.
test-whether-the-effects-of-treatment-1-police-favorable-message-are-the-same-as-treatment-3-both-sides-for-each-dependent-variable.-feel-free-to-use-the-linearhypothesis-function-in-the-car-package.
in-some-political-contexts-messages-have-a-different-effect-on-people-with-less-engagement-in-politics.-are-there-heterogeneous-treatment-effects-by-those-who-did-not-vote-for-reasons-other-than-to-boycott-the-election-and-those-who-did-not-feel-free-to-explore-multiple-other-ways-there-could-be-heterogeneous-effects-e.g.-perhaps-there-are-different-effects-on-sisi-supporters-but-you-only-need-to-report-on-possible-differential-effects-of-the-treatments-on-the-not-accountable-dependent-variable.
lab-vii-lists-loops-functions-in-r
preparation-2
data
load-data.-stock-price-data-is-in-stocks2020.csv.-presidential-prices-are-in-uspres_2020_price-history-by-market--bulk.xlsx.-think-about-renaming-data-contract-name-and-close-share-price-for-ease-of-use.
create-data-frame-with-daily-price-data-for-trump-in-2020
merge-the-stock-price-and-trump-price-data
create-a-list-of-stock-ticker-names-do-not-include-dji-as-a-ticker
create-a-function-that-calculates-daily-percent-change.-use-the-lag-function-and-the-mutate_at-function.-make-sure-to-check-that-your-function-worked.
loop-thru-list-of-tickers-and-run-regressions-in-which-daily-change-in-stock-price-is-a-function-of-change-in-djia-and-change-in-trump-price.-create-a-data-frame-that-stores-the-coefficient-standard-error-and-t-stat-for-the-trump-variable-for-each-stock.-include-a-column-that-has-the-stock-ticker-in-that-data-frame-as-well.
the-questions-below-are-not-required-for-full-credit-but-i-encourage-you-to-try
use-list-apply---lapply---to-regress-stock-price-on-trump.
use-tapply-to-find-the-average-price-of-each-presidential-candidate-over-the-course-of-the-campaign.
now-use-map-in-librarypurrr-to-regress-stock-price-on-trump.
create-your-own-simple-regression-function.-to-avoid-issues-of-nas-simulate-some-data-and-see-if-it-worked
lab-viii-regression-discontinuity-designs
preparation-3
run-the-most-basic-rdd-model-and-then-replicate-the-main-result-using-the-specification-for-table-1.-in-this-model-the-rd-allows-for-differential-quadratic-models-above-and-below-the-threshold-and-also-has-dummy-variables-for-birthdays.-the-data-is-limited-to-observations-within-2-years-of-21.-do-this-with-lm.-finally-run-a-diagnostic-plot-to-test-for-sorting-just-beyond-the-cutoff.
run-the-basic-rd-model-and-the-model-with-covariates-with-libraryrdrobust.-what-is-different
estimate-a-series-of-models-with-lm-that-have-slightly-different-specifications.-first-try-the-above-specification-with-only-linear-age-variable-first-fixing-slope-to-be-the-same-above-and-below-the-threshhold-and-then-allowing-slope-to-vary-above-and-below-the-threshhold.
now-see-what-happens-when-you-use-a-different-window-sizes.-feel-free-to-experiment-but-only-need-to-report-one-specification.-just-include-the-treatment-and-running-variables-and-allow-the-slopes-to-differ.
now-create-some-rdd-figures.-i-suggest-using-rdplot-in-libraryrdrobust-and-experimenting-with-different-arguments.
lab-ix-time-series
estimate-a-model-with-the-log-of-miles-driven-use-the-unadjusted-data-logmilesna-as-a-function-of-log-gas-prices-unemployment-and-log-of-population.-dont-account-for-autocorrelation.-is-the-effect-of-gas-statistically-significant
do-you-think-there-is-seasonality-in-driving-test-by-adding-dummy-variables-for-month-to-the-above-model.-is-there-evidence-of-monthly-variation-is-the-effect-of-gas-statistically-significant-now-create-a-categorical-variable-for-seasons-and-run-the-model-without-the-month-dummy-variable.
briefly-explain-why-there-might-be-autocorrelation.
create-a-figure-that-is-useful-to-assess-whether-there-is-autocorrelation-you-have-two-choices-here.-draw-a-sketch-here.
test-whether-there-is-first-order-autocorrelation.-report-the-key-statistic-from-this-test.-what-would-a-coefficient-of-1-indicate
use-newey-west-standard-errors-to-account-for-autocorrelation.-use-the-same-variables-as-in-part-b.-determine-the-t-stats-and-describe-the-similarities-and-difference-with-earlier-results.
estimate-a-model-that-adjusts-for-autocorrelation.-use-the-same-variables-as-in-part-b.-describe-similarities-and-difference-with-earlier-results.
estimate-a-dynamic-model-of-miles-driven-using-control-variables-from-above.-discuss-key-differences.
run-an-augmented-dickey-fuller-test-on-logmilesna.
optional-question-conduct-the-same-analysis-from-a-b-d-and-g-using-light-truck-sales-as-the-dependent-variable.-light-truck-sales-use-more-gas-than-cars-so-the-question-is-whether-gas-prices-affect-the-kind-of-car-people-buy-which-will-affect-gas-consumption-for-the-life-of-the-car.
lab-x-mle
take-a-look-at-the-dataset.-once-you-have-an-idea-what-the-variables-are-use-a-lpm-to-estimate-the-effect-of-passenger-class-on-survival.
assess-the-following-with-a-linear-probability-model-did-being-a-women-or-child-under-17-affected-survival-did-boarding-location-a-rough-proxy-for-country-of-origin-affect-survival-ireland-is-queenstown-q-france-is-cherbourg-c-and-the-englad-is-southampton-s.-treat-southampton-as-the-reference-category.-control-for-age-in-your-model.
for-the-model-from-above-what-are-the-minimum-and-maximum-predicted-probabilities-of-survival
what-is-the-name-age-gender-and-passenger-class-of-the-person-with-the-lowest-probability-of-surviving-first-though-make-a-prediction-about-the-gender-age-and-class-of-the-this-person.
what-is-the-name-of-the-person-with-the-highest-probability-of-surviving-as-above-make-a-prediction-about-the-gender-age-and-class-of-the-this-person.
estimate-a-probit-and-logit-model-where-survival-is-a-function-of-only-passenger-class.-treat-passenger-class-as-a-nominal-variable.-compare-statistical-significance-to-a-similar-lpm-model.-can-we-easily-interpret-these-coefficients
estimate-a-probit-and-logit-model-where-survival-is-a-function-of-passenger-class-treated-as-a-nominal-variable-age-gender-child-and-embarkation-location.-what-is-the-minimum-and-maximum-fitted-value
what-is-the-name-of-the-person-with-the-lowest-probability-of-surviving-use-the-probit-model-results-from-g.
for-the-probit-model-from-part-g-what-is-the-effect-of-growing-one-year-older-for-an-adult-do-this-manually-using-the-observed-value-discrete-difference-method-described-in-the-booklecture.
compare-the-probit-effect-of-age-to-the-lpm-effect-of-age-in-part-b
what-is-the-effect-of-the-passenger-class-female-and-child-variables-in-the-above-probit-model-use-the-mfx-package-as-described-in-the-lecture.-compare-the-predicted-effects-of-these-variables-in-the-probit-and-the-logit-models-to-the-results-in-the-lpm-in-part-b.
use-libraryggplot2-to-create-a-logitprobit-curve-depicting-the-relationship-between-the-cost-of-the-fare-and-survivability.-compare-this-with-a-plot-of-the-lpm.
optional-lab-i-spatial-data-analysis
start-by-registering-for-a-census-api-key-here
lets-create-a-map-of-the-distribution-of-income-across-dc-at-the-census-tract-level.-we-will-use-the-2015-2019-acs.-edit-the-following-code-to-bring-in-the-data-with-get_acs-and-create-the-map
do-the-same-for-two-different-states-and-cities.
now-visualize-income-across-the-entire-county-at-the-state-level.-include-shift_geo-true-as-an-argument
do-the-same-at-the-county-level
now-use-get_idb-to-visualize-the-fertility-rate-around-the-world
